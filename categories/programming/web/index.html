<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Catégorie: Web | ThoughtWorkshop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="timnew programming code software">
<meta property="og:type" content="website">
<meta property="og:title" content="ThoughtWorkshop">
<meta property="og:url" content="http://timnew.me/categories/programming/web/index.html">
<meta property="og:site_name" content="ThoughtWorkshop">
<meta property="og:description" content="timnew programming code software">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ThoughtWorkshop">
<meta name="twitter:description" content="timnew programming code software">
<meta name="twitter:creator" content="@timnew">
<link rel="publisher" href="108780866821209050000">
  
    <link rel="alternate" href="/atom.xml" title="ThoughtWorkshop" type="application/atom+xml">
  
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<meta name="msapplication-TileColor" content="#00a300">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">

  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '[object Object]', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ThoughtWorkshop</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Digital Bigs in my thought</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/#main">Home</a>
        
          <a class="main-nav-link" href="/archives/">Archives</a>
        
          <a class="main-nav-link" href="/photos/500px.html">Photos</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://timnew.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-trello-confetti-effect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/09/24/trello-confetti-effect/" class="article-date">
  <time datetime="2014-09-24T05:13:33.000Z" itemprop="datePublished">2014-09-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/09/24/trello-confetti-effect/">Trello Confetti Effect</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://trello.com" target="_blank" rel="external">Trello</a> just created a <a href="https://trello.com/5m" target="_blank" rel="external">page</a> to celebrate their user number reaches 5 million. In their celebration page, they introduce an interesting effect, a number of blue squares rotating and falling from the sky.</p>
<p>By inspecting their source code, I extracted the effect implementation from the page.</p>
<iframe id="cp_embed_tlEBe" src="//codepen.io/timnew/embed/tlEBe?height=500&theme-id=7928&slug-hash=tlEBe&default-tab=result" scrolling="no" frameborder="no" height="500" allowtransparency="true" allowfullscreen="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe>
<p>As you can see, the effect is implemented with Canvas animation. Trello guys created a light weight particle system.</p>
<ul>
<li><code>ConfettiMachine</code> is the particle system controller, which takes the responsibility to create new particles and call <code>draw</code> method on them one by one.</li>
<li><code>Particle</code> is the representation of the blue square, it takes the rotation, fading out and rendering.</li>
</ul>
<p>The source code is extracted for study purpose, all code and credits belongs to Trello guys.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/09/24/trello-confetti-effect/" data-id="cinedk75i0091chsilokb3u71" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/09/24/trello-confetti-effect/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/animation/">animation</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/confetti/">confetti</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/draw/">draw</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/effect/">effect</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/particle/">particle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/trello/">trello</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-favicon-is-not-as-simple-as-you-think" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/08/18/favicon-is-not-as-simple-as-you-think/" class="article-date">
  <time datetime="2014-08-17T16:04:36.000Z" itemprop="datePublished">2014-08-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/08/18/favicon-is-not-as-simple-as-you-think/">Favicon is not as simple as you think</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>Favicon</code> is the little icon that displayed on the title bar or tab bar when you browsing a web site. At very beginning, it is used to be the little icon displayed in favoriate bar when user add the website to favorites. Then later, it becomes the the standard way to specify custom icon for a website.</p>
<p>Most web site provides <code>favico</code>, developer add one line description in the <code>&lt;head&gt;</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/favico.ico"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This simple piece of code works, but there are a lot of issues with this declaration. Actually specify the <code>favico</code> isn’t as simple as you might expect!</p>
<p>For this piece of code, according to W3C document <a href="http://www.w3.org/2005/10/howto-favicon" target="_blank" rel="external">how to favicon</a>, there are 2 issues with it:</p>
<p>First, <code>shortcut</code> isn’t a standard value for <code>rel</code>, it is only for <code>IE</code>.</p>
<p>Second, <code>ico</code> format is a Microsoft oriented file type, not all platform likes it. Linux, Mac, iOS, Android, do not really appreciate this format.</p>
<p>Beides the 2 issues described above, the size of the <code>favicon</code> also matters.</p>
<p>Someone says it should be <code>16x16</code>. Yes, <code>16x16</code> icon is used in tab or tree view. Some other says it should be <code>32x32</code>. Well, this is also true. <code>32x32</code> icon is displayed in toolbar.</p>
<p><code>16x16</code> and <code>32x32</code> are the most used sizes for <code>favico</code>, but that’s not all. The reality is a lot complicated, I’ll explain this issue later. Let focus on this 2 size first.</p>
<p>To provide the image with 2 different sizes. For <code>ico</code> it is not an issue, since <code>ico</code> is a image container file format, which can encapsulate several images with different sizes and color in a single file. It is convenient for developer, but not for users. Because it means the users need to download a big file, most of the data in which is not used at all.</p>
<p>For the recommended <code>png</code>, it is no way to provide multiple images in a single file. So we have to provide 2 different separate files, and specify them with 2 different <code>&lt;link&gt;</code> tags with <code>sizes</code> attribute. This is a more efficient way, but unfortunately, you’re living in the world has something called <code>Internet Explorer</code>. The <code>favico</code> in <code>png</code> is not supported by IE until <code>IE 11</code>. What a hell!</p>
<p>Actually, there is a lot of issue with IE in this case. There is an <a href="https://mathiasbynens.be/notes/rel-shortcut-icon" target="_blank" rel="external">great article</a> by Mathias Bynen that discussed this issue in detail, which provides a lot of interesting information related to <code>favico</code>.</p>
<h3 id="Microsoft-Windows-8"><a href="#Microsoft-Windows-8" class="headerlink" title="Microsoft Windows 8"></a>Microsoft Windows 8</h3><p>Besides typical browser usage, <code>Favicon</code> is also used to create <code>Metro Tile</code> by <code>IE 10</code> and <code>IE 11</code> on Windows 8. It requires something quite different. Here is a MSDN document that described how to <a href="http://msdn.microsoft.com/en-us/library/ie/dn455106(v=vs.85).aspx" target="_blank" rel="external">create custom tiles for IE11 websites</a>. For these <code>tile icon</code>, Windows 8 also asks for a background color other than the icon itself.</p>
<h3 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h3><p>In the age of mobile internet, <code>favicon</code> is not just used by the desktop browser, but also mobile devices. On mobile devices, there are some more specific requirements.</p>
<p>On android, the screen size and resolution varies between devices. So the visual elements on Android are measured in <code>dp</code>. According to the screen resolution, there are different conversion ratios between <code>dp</code> and <code>px</code>. And to have pixel perfect image on Android, developer should provide several images for different <code>dp-px-ratios</code>.</p>
<p>Google have a well written document that described how to create icon for the web app that <a href="https://developer.chrome.com/multidevice/android/installtohomescreen" target="_blank" rel="external">added to homescreen</a>.</p>
<h3 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h3><p>For iOS, it is simliar to Android, but seems to be much more complicated. On iOS, it is also possible to create a shortcut for the web apps. Apple named such icon as <code>apple touch icon</code>, which is used by Safari and other browsers on iOS.</p>
<p>For the iOS devices, iPhone and iPad have different screen sizes, so they have different size requirements for <code>touch icon</code>.</p>
<p>Furthermore, there are device with <code>retina</code> display and with normal one. To have pixel perfect image on <code>retina display</code>, it requires the resolution of the image to be doubled.</p>
<p>And since iOS 7, iOS changed its UI style, the icon size used by iOS 7 is also slightly changed. So you should provide new icons for iOS 7 devices!</p>
<p>To make the icon fit iOS visual style best, Apple recommend web application to provide <code>precomposed icon</code>, which is a icon that added <code>rounded corner</code> and background by itself.</p>
<p>To have the pixel perfect icon on iOS, you might need to provide around 10 different images files as <code>apple touch icon</code>.</p>
<p>What a hell!!!! The <code>touch icon</code> on iOS is totally a mess!!!!</p>
<p>Here is a document from Apple that describes how <a href="https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html" target="_blank" rel="external">configure web application icon</a>.</p>
<h3 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><p>Besides all cases that describe above, <code>favicon</code> is also used in some special cases, such as <a href="https://developers.google.com/tv/web/docs/design_for_tv#favicons" target="_blank" rel="external">Google TV</a>, <a href="http://operacoast.com/developer#icon" target="_blank" rel="external">Opera Speed Dial</a>, Chrome Web App. They all requires different size of <code>favico</code>.</p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>In a short description, <code>favico</code> isn’t as simple as it looks. And it actually used wrongly by most websites.<br>To provide proper <code>favico</code> for all platforms and devices is not a simple work to do.<br>Here is the <code>favico</code> declaration that used this blog:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"57x57"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-57x57.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"114x114"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-114x114.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"72x72"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-72x72.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"144x144"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-144x144.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"60x60"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-60x60.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"120x120"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-120x120.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"76x76"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-76x76.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">sizes</span>=<span class="string">"152x152"</span> <span class="attr">href</span>=<span class="string">"/apple-touch-icon-152x152.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/favicon-196x196.png"</span> <span class="attr">sizes</span>=<span class="string">"196x196"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/favicon-160x160.png"</span> <span class="attr">sizes</span>=<span class="string">"160x160"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/favicon-96x96.png"</span> <span class="attr">sizes</span>=<span class="string">"96x96"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/favicon-16x16.png"</span> <span class="attr">sizes</span>=<span class="string">"16x16"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/favicon-32x32.png"</span> <span class="attr">sizes</span>=<span class="string">"32x32"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-TileColor"</span> <span class="attr">content</span>=<span class="string">"#00a300"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-TileImage"</span> <span class="attr">content</span>=<span class="string">"/mstile-144x144.png"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>And these files are served on this blog as <code>favico</code>:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">favicon</span><span class="selector-class">.ico</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">favicon-16x16</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">favicon-32x32</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">favicon-96x96</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">favicon-160x160</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">favicon-196x196</span><span class="selector-class">.png</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">apple-touch-icon</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-precomposed</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-57x57</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-60x60</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-72x72</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-76x76</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-114x114</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-120x120</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-144x144</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">apple-touch-icon-152x152</span><span class="selector-class">.png</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">browserconfig</span><span class="selector-class">.xml</span></span><br><span class="line"><span class="selector-tag">mstile-70x70</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">mstile-144x144</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">mstile-150x150</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">mstile-310x150</span><span class="selector-class">.png</span></span><br><span class="line"><span class="selector-tag">mstile-310x310</span><span class="selector-class">.png</span></span><br></pre></td></tr></table></figure>
<p>As you can see, to prepare all these configurations and files is not an easy job to do. It really consumes you a lot effort.</p>
<p>Fortunately, we have the awesome <a href="http://realfavicongenerator.net/" target="_blank" rel="external">Real Favicon Generator</a> brought by <a href="https://github.com/phbernard/" target="_blank" rel="external">Philippe Bernard</a>, which will save your tons of time to have the proper fav icon configuration.</p>
<p><code>Real Favicon Generator</code> also comes with a <a href="http://realfavicongenerator.net/favicon_checker" target="_blank" rel="external">favicon checker</a>, which check the favorite configuration for your website, and generates  <a href="http://realfavicongenerator.net/favicon_checker?site=timnew.github.io" target="_blank" rel="external">beautiful report</a>.</p>
<p>At last the <a href="http://realfavicongenerator.net/faq" target="_blank" rel="external">FAQ</a> of the site also provides a good explanation of the issue described above in details. Hope it helps.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/08/18/favicon-is-not-as-simple-as-you-think/" data-id="cinedk7530088chsi4l4g78n6" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/08/18/favicon-is-not-as-simple-as-you-think/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/deployment/">deployment</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/design/">design</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/favicon/">favicon</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/icon/">icon</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logo/">logo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tile/">tile</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/website/">website</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows-8/">windows 8</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-complex-value-array-in-stylus" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/08/16/complex-value-array-in-stylus/" class="article-date">
  <time datetime="2014-08-16T15:32:38.000Z" itemprop="datePublished">2014-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/08/16/complex-value-array-in-stylus/">Complex Value Array in Stylus</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://learnboost.github.io/stylus/" target="_blank" rel="external">Stylus</a> is an awesome CSS pre-processor, which provides much more concise syntax and more powerful feature than its competitors, such as <a href="http://lesscss.org/" target="_blank" rel="external">LESS</a> or <a href="http://sass-lang.com/" target="_blank" rel="external">SCSS</a>.</p>
<p>But now, with more and more features added into <code>Stylus</code>, it seems its syntax become over-weighted. Pitfall come up.</p>
<p>I wish to declare an array of values for <code>box-shadow</code> property. And I can reference them with index:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">drop-shadows = [</span><br><span class="line">  <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.16</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">25px</span> <span class="number">55px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.21</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">40px</span> <span class="number">77px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.22</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">drop-shadow</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="attribute">box-shadow</span> shadows[n]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">5</span>)  </span><br><span class="line">  .drop-shadow-&#123;i&#125;</span><br><span class="line">    drop-shadow(i)</span><br></pre></td></tr></table></figure>
<p>And expect it generates</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.drop-shadow-1</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0.16);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.drop-shadow-2</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0.19);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.drop-shadow-3</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0.19);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.drop-shadow-4</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">25px</span> <span class="number">55px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0.21);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.drop-shadow-5</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">40px</span> <span class="number">77px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0.22;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>But I found there is not such thing called <code>Array</code> in <code>Stylus</code>!!!!<del><br>There is only <code>Hash</code>, and Hash doesn’t accept number as key!<br>So finally, I come up something like this:</del></del></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">drop-shadows = &#123;</span><br><span class="line">  <span class="string">'1'</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.16</span>),</span><br><span class="line">  <span class="string">'2'</span>: <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">  <span class="string">'3'</span>: <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">  <span class="string">'4'</span>: <span class="number">0</span> <span class="number">25px</span> <span class="number">55px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.21</span>),</span><br><span class="line">  <span class="string">'5'</span>: <span class="number">0</span> <span class="number">40px</span> <span class="number">77px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.22</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">drop-shadow</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="attribute">box-shadow</span> shadows[n+<span class="string">''</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">5</span>)  </span><br><span class="line">  .drop-shadow-&#123;i&#125;</span><br><span class="line">    drop-shadow(i)</span><br></pre></td></tr></table></figure>
<p>In this piece of code, there are a bunch of pitfalls:</p>
<ol>
<li>Hash doesn’t accept number as key. So <code>1: 0 2px 10px 0 rgba(0, 0, 0, 0.16)</code> cause compile error.</li>
<li><code>&#39;1&#39; != 1</code>, so <code>drop-shadows[1]</code> returns <code>null</code></li>
<li>There is no type conversion function in <code>Stylus</code>, use the same trick as <code>JavaScript</code>. <code>&#39;&#39;+n</code> convert <code>n</code> into <code>string</code>.</li>
</ol>
<hr>
<p>Just found <code>Stylus</code> provides something called <code>List</code>, which is pretty much similar to what array in other languages, except the syntax.</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">drop-shadows = <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.16</span>),</span><br><span class="line">               <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">               <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>),</span><br><span class="line">               <span class="number">0</span> <span class="number">25px</span> <span class="number">55px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.21</span>),</span><br><span class="line">               <span class="number">0</span> <span class="number">40px</span> <span class="number">77px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.22</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">drop-shadow</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="attribute">box-shadow</span> shadows[n]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">5</span>)  </span><br><span class="line">  .drop-shadow-&#123;i&#125;</span><br><span class="line">    drop-shadow(i)</span><br></pre></td></tr></table></figure>
<p>So no brackets or parentesis needed.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/08/16/complex-value-array-in-stylus/" data-id="cinedk74y007zchsig6gk1kpi" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/08/16/complex-value-array-in-stylus/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/array/">array</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/box-shadow/">box-shadow</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hash/">hash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pitfall/">pitfall</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stylus/">stylus</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/workaround/">workaround</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-page-renders-improperly-in-ie-before-developer-tool-has-opened" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/08/01/page-renders-improperly-in-ie-before-developer-tool-has-opened/" class="article-date">
  <time datetime="2014-08-01T00:00:00.000Z" itemprop="datePublished">2014-08-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/08/01/page-renders-improperly-in-ie-before-developer-tool-has-opened/">Page renders improperly in IE before developer tool has opened</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today I found a super annoying issue about IE. Our website works perfectly in any browser except IE. The page isn’t rendered properly in IE 9. Well, this is common, this is the nature of IE. The mysterious issue I found is that once you opened or ever opened the developer tool, open the page or refresh the page, the problem is gone magically!!!!</p>
<p>As a conclusion, opening the developer tool changes the browser behavior!!!!! What a hell! So you know there is something wrong, but once you try to figure out the error message, you have to open developer tool. Once you open the developer tool, the bug is gone! <strong>DEAD END!!!</strong></p>
<p>Because I cannot open developer tool, so I have to debug with <code>alert</code>. It is really a horrible experience to me, and feels like inspecting nuclear reaction with a plain optical magnifier or fixing a high-tech spacecraft with stones and clubs.</p>
<p>Since it is client-rich page, a lot of javascript is introduced. So I cannot go through the scripts line by line, instead I have to make an assumption to explain the phenomena spotted, then validate it with experiments, finally correct or extend the assumption according the validation result.</p>
<p>During the process I invalidated a couple of assumptions, some of them are seems very close to the “right answer”, such as “some script is loaded and executed before its dependencies, and developer tool load all the scripts first because it displays all the scripts”.</p>
<p>After spending a couple of hours on it, I put on eye on a line of code that is really out of my expectation: <code>console.warn</code>.</p>
<figure class="highlight javascript"><figcaption><span>Code breaks the page rendering</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.warn(<span class="string">'__proto__ is not supported by current browser, fallback to hard-copy approach'</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>I displays a warning message to console when a workaround is applied. But a tricky fact about IE 9 is that <code>console</code> isn’t available until developer tool is opened (<a href="http://msdn.microsoft.com/library/ie/bg182326(v=vs.85" target="_blank" rel="external">MSDN reference here</a>))!!!</p>
<p>The fact that console is not available until developer tools is opened really blows my mind away! (Maybe it is because I have little experience work with IE). As a chrome user, I take console as the universal log system for javascript. But in IE, according to the <a href="http://msdn.microsoft.com/library/ie/bg182326(v=vs.85" target="_blank" rel="external">document</a>), the code should check the existence of console every time print a log.</p>
<p>There is another pitfall here, and I saw someone really post it as answer on <a href="http://stackoverflow.com/questions/2656730/internet-explorer-console" target="_blank" rel="external">StackOverflow</a>:</p>
<figure class="highlight javascript"><figcaption><span>Bad polyfill implemntation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">console</span> == <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.console = &#123; log: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123; alert(msg); &#125; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>We usually access <code>console</code> as <code>console.log</code>, feels like <code>console</code> is a global instance to access. But actually console is an member of <code>window</code>, its full name should be <code>window.console</code>. When <code>console</code> exists, we can definitely reference to it via <code>console</code>. But if it doesn’t exist, the statement <code>console</code> cause script error! So the following code doesn’t work:</p>
<figure class="highlight javascript"><figcaption><span>Pitfalls in console existence check</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span>(<span class="built_in">console</span>) === <span class="string">'undefined'</span>)&#123; <span class="comment">// Break the script execution</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Never got executed'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">console</span> != <span class="literal">null</span>) &#123; <span class="comment">// Break the script execution</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Never got executed'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">console</span>) &#123; <span class="comment">// Break the script execution</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Never got executed'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.console) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'this works!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>To avoid <code>console</code> issue, a ployfill could be very useful. Here is a great implementation available as <code>bower</code> package: <a href="https://github.com/paulmillr/console-polyfill" target="_blank" rel="external">console-polyfill</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/08/01/page-renders-improperly-in-ie-before-developer-tool-has-opened/" data-id="cinedk74j007lchsi4v3zx199" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/08/01/page-renders-improperly-in-ie-before-developer-tool-has-opened/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ie/">IE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/console/">console</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/developer-tool/">developer tool</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pitfall/">pitfall</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/polyfill/">polyfill</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/undefined/">undefined</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-converting-between-html-5-data-attribute-style-hyphen-name-and-javascript-camcel-case-name" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/07/29/converting-between-html-5-data-attribute-style-hyphen-name-and-javascript-camcel-case-name/" class="article-date">
  <time datetime="2014-07-29T00:00:00.000Z" itemprop="datePublished">2014-07-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/07/29/converting-between-html-5-data-attribute-style-hyphen-name-and-javascript-camcel-case-name/">converting between HTML 5 data-attribute style hyphen name and javascript camcel-case name</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I found a bug in <a href="http://bower.io/search/?q=widget.coffee" target="_blank" rel="external">widget.coffee</a> today. To fix the issue, I need the conversion between HTML 5 <code>data-attribute</code> name and javascript function name, e.g. conversion between <code>data-action-handler</code> and <code>actionHandler</code>.</p>
<p>By taking jQuery implementation as reference, I come up 2 utility functions for the conversion:</p>
<figure class="highlight coffeescript"><figcaption><span>NameConversion</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Utils =</span><br><span class="line">  hyphenToCamelCase: <span class="function"><span class="params">(hyphen)</span> -&gt;</span> <span class="comment"># Convert 'action-handler' to 'actionHandler'</span></span><br><span class="line">    hyphen.replace <span class="regexp">/-([a-z])/g</span>, <span class="function"><span class="params">(match)</span> -&gt;</span></span><br><span class="line">      match[<span class="number">1</span>].toUppercase()</span><br><span class="line"></span><br><span class="line">  camelCaseToHyphen: <span class="function"><span class="params">(camelCase)</span> -&gt;</span> <span class="comment"># Convert 'actionHandler' to 'action-handler'</span></span><br><span class="line">    camelCase.replace(<span class="regexp">/[A-Z]/g</span>, <span class="string">'-$1'</span>).toLowerCase()</span><br><span class="line"></span><br><span class="line">  attributeToCamelCase: <span class="function"><span class="params">(attribute)</span> -&gt;</span> <span class="comment"># Convert 'data-action-handler' or 'action-handler' to 'actionHandler'</span></span><br><span class="line">    Utils.hyphenToCamelCase dataAttribute.replace(<span class="regexp">/^(data-)?(.*)/</span>, <span class="string">'$2'</span>)</span><br><span class="line"></span><br><span class="line">  camelCaseToAttribute: <span class="function"><span class="params">(camelCase)</span> -&gt;</span> <span class="comment"># Convert 'actionHanlder' to 'data-action-handler'</span></span><br><span class="line">    <span class="string">'data-'</span> + Utils.camelCaseToHyphen(camelCase)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Here is a more solid implementation based on previous one.</p>
<figure class="highlight javascript"><figcaption><span>a sloid javascript version</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> Utils = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">hyphenToCamelCase</span>(<span class="params">hyphen</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> hyphen.replace(<span class="regexp">/-([a-z])/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> match[<span class="number">1</span>].toUppercase();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">camelCaseToHyphen</span>(<span class="params">camelCase</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> camelCase.replace(<span class="regexp">/[A-Z]/g</span>, <span class="string">'-$1'</span>).toLowerCase();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">attributeToCamelCase</span>(<span class="params">attribute</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> hyphenToCamelCase(dataAttribute.replace(<span class="regexp">/^(data-)?(.*)/</span>, <span class="string">'$2'</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">camelCaseToAttribute</span>(<span class="params">camelCase</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'data-'</span> + camelCaseToHyphen(camelCase);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    hyphenToCamelCase: hyphenToCamelCase,</span><br><span class="line">    camelCaseToHyphen: camelCaseToHyphen,</span><br><span class="line">    attributeToCamelCase: attributeToCamelCase,</span><br><span class="line">    camelCaseToAttribute: camelCaseToAttribute</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/07/29/converting-between-html-5-data-attribute-style-hyphen-name-and-javascript-camcel-case-name/" data-id="cinedk74h007hchsiq2r1w5u6" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/07/29/converting-between-html-5-data-attribute-style-hyphen-name-and-javascript-camcel-case-name/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/camel-case/">camel-case</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/conversion/">conversion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/data-attribute/">data attribute</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hyphen/">hyphen</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/name/">name</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-process-nexttick-implementation-in-browser" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2014/06/23/process-nexttick-implementation-in-browser/" class="article-date">
  <time datetime="2014-06-23T00:00:00.000Z" itemprop="datePublished">2014-06-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2014/06/23/process-nexttick-implementation-in-browser/">Process.nextTick Implementation in Browser</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Recursion is a common trick that is often used in JavaScript programming. So infinite recursion will cause stack overflow errors.<br>Some languages resolves this issue by introduce automatically tail call optimization, but in JavaScript we need to take care it on our own.</p>
<p>To solve the issue, <code>Node.js</code> has the utility functions <code>nextTick</code> to ensure specific code is invoked after the current function returned.<br>In Browser there is no standard approach to solve this issue, so workarounds are needed.</p>
<p>Thanks to <a href="https://github.com/defunctzombie" target="_blank" rel="external">Roman Shtylman(@defunctzombie)</a>, who created the <code>node-process</code> for <code>Browserify</code>, which simulate the <code>Node.js</code> API in browser environment.<br>Here is his implementation:</p>
<p><a href="https://github.com/defunctzombie/node-process/blob/master/browser.js" target="_blank" rel="external">node-process</a><br><figure class="highlight js"><figcaption><span>Infinite Recursion</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">process.nextTick = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> canSetImmediate = <span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span></span><br><span class="line">    &amp;&amp; <span class="built_in">window</span>.setImmediate;</span><br><span class="line">    <span class="keyword">var</span> canPost = <span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span></span><br><span class="line">    &amp;&amp; <span class="built_in">window</span>.postMessage &amp;&amp; <span class="built_in">window</span>.addEventListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (canSetImmediate) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">window</span>.setImmediate(f) &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (canPost) &#123;</span><br><span class="line">        <span class="keyword">var</span> queue = [];</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> source = ev.source;</span><br><span class="line">            <span class="keyword">if</span> ((source === <span class="built_in">window</span> || source === <span class="literal">null</span>) &amp;&amp; ev.data === <span class="string">'process-tick'</span>) &#123;</span><br><span class="line">                ev.stopPropagation();</span><br><span class="line">                <span class="keyword">if</span> (queue.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> fn = queue.shift();</span><br><span class="line">                    fn();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">nextTick</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">            queue.push(fn);</span><br><span class="line">            <span class="built_in">window</span>.postMessage(<span class="string">'process-tick'</span>, <span class="string">'*'</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">nextTick</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        setTimeout(fn, <span class="number">0</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>Here is some comments on the implementation.</p>
<h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h3><p>To simulate the nextTick behavior, <code>setTimeout(fn, 0)</code> is a well-known and easy to adopt approach. The issue of this method is that <code>setTimeout</code> function does heavy operations, call it in loop causes significant performance issue. So we should try to use cheaper approach when possible.</p>
<h3 id="setImmidate"><a href="#setImmidate" class="headerlink" title="setImmidate"></a>setImmidate</h3><p>There is a function called <code>setImmediate</code>, which behaves quite similar to <code>nextTick</code> but with a few differences when dealing with IO stuff. But in browser environment, there is no IO issue, so we can definitely replace the <code>nextTick</code> with it.</p>
<blockquote><p>Immediates are queued in the order created, and are popped off the queue once per loop iteration. This is different from process.nextTick which will execute process.maxTickDepth queued callbacks per iteration. setImmediate will yield to the event loop after firing a queued callback to make sure I/O is not being starved. While order is preserved for execution, other I/O events may fire between any two scheduled immediate callbacks.</p>
<footer><strong>setImmediate(callback, [arg], [...])</strong><cite><a href="http://nodejs.org/api/timers.html#timers_setimmediate_callback_arg" target="_blank" rel="external">Node.js</a></cite></footer></blockquote>
<p>The <code>setImmediate</code> function is perfect replacement for <code>nextTick</code>, but it is not supported by all the browsers. Only <code>IE 10</code> and <code>Node.js 0.10.+</code> supports it. Chrome, Firefox, Opera and all mobile browsers don’t.</p>
<blockquote><p>Note: This method is not expected to become standard, and is only implemented by recent builds of Internet Explorer and Node.js 0.10+. It meets resistance both from Gecko (Firefox) and Webkit (Google/Apple).</p>
<footer><strong>window.setImmediate</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window.setImmediate" target="_blank" rel="external">MDN</a></cite></footer></blockquote>
<h3 id="window-postMessage"><a href="#window-postMessage" class="headerlink" title="window.postMessage"></a>window.postMessage</h3><p><code>window.postMessage</code> enable developer to access message queue in the browser. By adding some additional code, we can simulate nextTick behavior based on message queue. It works in most modern browser, except <code>IE 8</code>. In <code>IE 8</code>, the API is implemented in a  synchronous way, which introduce an extra level of stack-push, so it cannot be used to simulate <code>nextTick</code>.</p>
<p>Overall, there is no perfect workaround to the <code>nextTick</code> issue for now. All the solutions have different limitations, we can only hope that this issue can be resolved in the future ECMAScript standard.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2014/06/23/process-nexttick-implementation-in-browser/" data-id="cinedk74d0075chsivcl8vnwi" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2014/06/23/process-nexttick-implementation-in-browser/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/browser/">browser</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/infinite-recursion/">infinite recursion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nexttick/">nextTick</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node-js/">node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-script-to-manage-tw-t-e" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2013/06/20/script-to-manage-tw-t-e/" class="article-date">
  <time datetime="2013-06-20T00:00:00.000Z" itemprop="datePublished">2013-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2013/06/20/script-to-manage-tw-t-e/">Script to manage TW T&amp;E</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Have been on travel once again, and really found filling the ThoughtWorks T&amp;E expense form is really painful.</p>
<p>So I spent some time to refine the scripts that wrote last year when I was on Travel, which could be stimulate the pain when filing the form.</p>
<p>Post and managed as <a href="http://goo.gl/nG4Vm" target="_blank" rel="external">Gist</a></p>
<script src="//gist.github.com/5823705.js"></script>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2013/06/20/script-to-manage-tw-t-e/" data-id="cinedk732004ychsi36ia3ta4" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2013/06/20/script-to-manage-tw-t-e/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/expense/">expense</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/injection/">injection</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/time-sheet/">time sheet</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/utility/">utility</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-css-trick-place-scrollbar-outside-of-the-client-area" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/" class="article-date">
  <time datetime="2012-10-26T00:00:00.000Z" itemprop="datePublished">2012-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/">CSS trick: Place Scrollbar outside of the client area</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today, I found a interesting difference between padding and margin when I’m working on Metrics 2.0 Introduction page. There are several <code>VideoThumbnail</code> widget on the page, which contains a video snapshot and a paragraph text description.<br>Here is the Html DOM of the widget, written in Haml:</p>
<figure class="highlight haml"><figcaption><span>VideoThumbnail Widget Html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">li</span><span class="selector-class">.span4</span></span></span><br><span class="line"><span class="tag">  %<span class="selector-tag">a</span><span class="selector-class">.thumbnail</span><span class="selector-class">.new</span>(data-<span class="attr">widget</span>=<span class="string">"IntroductionPage.VideoThumbnail"</span>)</span></span><br><span class="line">    .snapshot-container</span><br><span class="line"><span class="tag">      %<span class="selector-tag">img</span><span class="selector-class">.snapshot</span>&#123; src: snapshot &#125;</span></span><br><span class="line"><span class="tag">      %<span class="selector-tag">img</span><span class="selector-class">.status</span>(<span class="attr">src</span>=<span class="string">"/assets/new.png"</span> )</span></span><br><span class="line">    .caption</span><br><span class="line">      .title</span><br><span class="line"><span class="tag">        %<span class="selector-tag">h3</span></span> #&#123;<span class="ruby">index&#125;</span>. #&#123;<span class="ruby">title&#125;</span></span><br><span class="line"><span class="tag">      %<span class="selector-tag">p</span><span class="selector-class">.description</span></span> #&#123;<span class="ruby">description&#125;</span></span><br></pre></td></tr></table></figure>
<p>Since the description could be very short or very long, so I make the div that contains the description scrollable, so I wrote the following stylesheet for caption div:</p>
<figure class="highlight scss"><figcaption><span>VideoThumbnail Widget Stylesheet</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.caption</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The style looks fine, and here is how it looks:</p>
<img src="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/widget.png" alt="Wiget" title="Wiget">
<p>But very soon, I found the widget with scrollbar is taller than the one without it, it is because padding on 2 elements next to each other will not be merged: <strong>Red rect in following snapshot</strong></p>
<img src="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/padding.png" alt="Padding" title="Padding">
<p>It is caused because padding will not merged together as margin does, To solve the issue, I changed the padding to margin in the stylesheet:</p>
<figure class="highlight scss"><figcaption><span>VideoThumbnail Widget Stylesheet</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.caption</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>But bottom margin is corrected, but I found the scrollbar begin to occupy the space of content, which is not good! <strong>The center widget uses padding(Blue) and the right one uses margin(Red)</strong></p>
<img src="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/margin.png" alt="Margin" title="Margin">
<p>And I remember if I uses padding, the scrollbar takes the space of right padding; but if I use margin, it takes the space of the content. So I update the stylesheet in this way:</p>
<figure class="highlight scss"><figcaption><span>VideoThumbnail Widget Stylesheet</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.caption</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">9px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">9px</span> <span class="number">0</span> <span class="number">9px</span> <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/padding_margin_mixing.png" alt="Padding Margin Mixing" title="Padding Margin Mixing">
<p>I use padding on the right but uses margin on other side, so vertical scrollbar will take the right padding when necessary. It is a very interesting CSS trick, and it works fine under webkit based browser.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/" data-id="cinedk72f0040chsismeb3hz1" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2012/10/26/css-trick-place-scrollbar-outside-of-the-client-area/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/margin/">margin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/overflow/">overflow</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/padding/">padding</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scroll/">scroll</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-a-pitfall-in-jquery-form-serialization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2012/06/21/a-pitfall-in-jquery-form-serialization/" class="article-date">
  <time datetime="2012-06-21T00:00:00.000Z" itemprop="datePublished">2012-06-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/web/">Web</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2012/06/21/a-pitfall-in-jquery-form-serialization/">A pitfall in jQuery form serialization</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today, I was so surprised that I got an empty string when I call the serialize method on a jQuery wrapped form.<br>The html is written in Haml:</p>
<figure class="highlight haml"><figcaption><span>Html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">form</span><span class="selector-id">#graph-option</span><span class="selector-class">.horizontal-form</span></span></span><br><span class="line"><span class="tag">	%<span class="selector-tag">fieldset</span></span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">label</span>&#123; <span class="attr">:for</span>=&gt;<span class="string">'start-date'</span>&#125;</span> Start Date</span><br><span class="line"><span class="tag">		%<span class="selector-tag">select</span><span class="selector-id">#start-date</span></span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">label</span>&#123; <span class="attr">:for</span>=&gt;<span class="string">'end-date'</span>&#125;</span> End Date</span><br><span class="line"><span class="tag">		%<span class="selector-tag">select</span><span class="selector-id">#end-date</span></span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">button</span><span class="selector-id">#submit-option</span><span class="selector-class">.btn</span><span class="selector-class">.large-btn</span></span></span><br></pre></td></tr></table></figure>
<p>And the script is written in coffee-script:</p>
<figure class="highlight coffeescript"><figcaption><span>Script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ -&gt;</span><br><span class="line">	$(<span class="string">'#submit-option'</span>).click -&gt;</span><br><span class="line">		option = $(<span class="string">'#graph-option'</span>).serialize()</span><br><span class="line">		$.post <span class="string">'/dashboard/graph'</span>, option, <span class="function"><span class="params">(data)</span> -&gt;</span></span><br><span class="line">			renderCharts data</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>When I execute the script, I got 500 error. And the reason is that the option is empty.<br>I believe this must be caused by a super silly mistake, so I try to call serialize methods on Twitter Bootstrap website, and I still got empty string!!!!</p>
<p>After half an hour debugging, I just realize that I forgot to assign the name to all the input elements. And according to html specification, the browser uses the name of the elements to identify whom the value belongs to.<br>So when the name is omitted, the serailizeArray method in jQuery returns an empty array, as a result, the serialize method returns empty string.</p>
<p>According to my experience, it is easy to identify this problem, if the html is in html-like format, such as erb. But it is really hard to identify this issue if the page is written in haml, because in haml, id is used much more often.<br>To fix this problem, we need to specify the name explicitly for each form element.</p>
<p>Here is the fixed haml code:</p>
<figure class="highlight haml"><figcaption><span>Html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">form</span><span class="selector-id">#graph-option</span><span class="selector-class">.horizontal-form</span></span></span><br><span class="line"><span class="tag">	%<span class="selector-tag">fieldset</span></span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">label</span>&#123; <span class="attr">:for</span>=&gt;<span class="string">'start-date'</span>&#125;</span> Start Date</span><br><span class="line"><span class="tag">		%<span class="selector-tag">select</span><span class="selector-id">#start-date</span>&#123; <span class="attr">:name</span>=&gt;<span class="string">'start-date'</span> &#125;</span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">label</span>&#123; <span class="attr">:for</span>=&gt;<span class="string">'end-date'</span>&#125;</span> End Date</span><br><span class="line"><span class="tag">		%<span class="selector-tag">select</span><span class="selector-id">#end-date</span>&#123; <span class="attr">:name</span>=&gt;<span class="string">'end-date'</span> &#125;</span></span><br><span class="line"><span class="tag">		%<span class="selector-tag">button</span><span class="selector-id">#submit-option</span><span class="selector-class">.btn</span><span class="selector-class">.large-btn</span></span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2012/06/21/a-pitfall-in-jquery-form-serialization/" data-id="cinedk71o002schsia83oa5p0" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2012/06/21/a-pitfall-in-jquery-form-serialization/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/form/">form</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/id/">id</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jquery/">jquery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/name/">name</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pitfall/">pitfall</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/serialization/">serialization</a></li></ul>

    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap"><h3 class="widget-title">About Me</h3><div class="widget self-intro"><img src="/images/avatar.png"/><p>Tim is</p><ul class="description"><li>a<span>geek</span></li><li>an spare-time<span>web developer</span></li><li>a part-time<span>mobile developer</span></li><li>a night-time<span>photographer</span></li><li>an early-time<span>pcb solderer</span></li></ul><ul class="social-links"><li><a href="https://linkedin.com/in/timwen" target="_blank" class="linked-in"></a></li><li><a href="https://twitter.com/timnew" target="_blank" class="twitter"></a></li><li><a href="https://github.com/timnew" target="_blank" class="github"></a></li></ul></div></div>
  
    
  <div class="widget-wrap">
    <a href="/posts">
      <h3 class="widget-title">Articles récents</h3>
    </a>
    <div class="widget recent-posts">
      <ul>
        
          <li>
            <a href="/blog/2016/04/23/collection-filtering-algorithm-with-bit-operation-part-1/">Collection Filtering Algorithm with Bit Operation - Part.1</a>
          </li>
        
          <li>
            <a href="/blog/2015/08/14/a-clean-way-to-test-rejected-promise/">A clean way to test rejected promise</a>
          </li>
        
          <li>
            <a href="/blog/2014/12/06/typical-eventbus-design-patterns/">Typical EventBus Design Patterns</a>
          </li>
        
          <li>
            <a href="/blog/2014/11/09/understand-styles-in-android-part-1-what-it-is-for-and-how-to-used-it/">Understand Styles in Android - Part 1. What it is for and how to used it</a>
          </li>
        
          <li>
            <a href="/blog/2014/11/07/walkthrough-untrusted-the-continuing-adventures-of-dr-eval/">Walkthrough: Untrusted - the Continuing Adventures of Dr. Eval</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/tags">
      <h3 class="widget-title">Nuage de mot-clés</h3>
    </a>
    <div class="widget tagcloud">
      <a href="/tags/net/" style="font-size: 10px;">.net</a> <a href="/tags/alfred/" style="font-size: 10px;">Alfred</a> <a href="/tags/algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/android/" style="font-size: 20px;">Android</a> <a href="/tags/android-studio/" style="font-size: 10px;">Android Studio</a> <a href="/tags/automation/" style="font-size: 10px;">Automation</a> <a href="/tags/binary/" style="font-size: 10px;">Binary</a> <a href="/tags/bit-operation/" style="font-size: 10px;">Bit Operation</a> <a href="/tags/bit-slicer/" style="font-size: 10px;">Bit Slicer</a> <a href="/tags/bloom-filter/" style="font-size: 10px;">Bloom Filter</a> <a href="/tags/boilerplate/" style="font-size: 10px;">Boilerplate</a> <a href="/tags/c/" style="font-size: 20px;">C#</a> <a href="/tags/ci/" style="font-size: 15px;">CI</a> <a href="/tags/css/" style="font-size: 10px;">CSS</a> <a href="/tags/cheat/" style="font-size: 10px;">Cheat</a> <a href="/tags/cheat-engine/" style="font-size: 10px;">Cheat Engine</a> <a href="/tags/class/" style="font-size: 10px;">Class</a> <a href="/tags/cocoa/" style="font-size: 10px;">Cocoa</a> <a href="/tags/collection/" style="font-size: 10px;">Collection</a> <a href="/tags/command/" style="font-size: 10px;">Command</a> <a href="/tags/continues-delivery/" style="font-size: 10px;">Continues Delivery</a> <a href="/tags/continues-integration/" style="font-size: 10px;">Continues Integration</a> <a href="/tags/crack/" style="font-size: 10px;">Crack</a> <a href="/tags/d/" style="font-size: 10px;">D</a> <a href="/tags/debugger/" style="font-size: 10px;">Debugger</a> <a href="/tags/deploy/" style="font-size: 10px;">Deploy</a> <a href="/tags/deployment/" style="font-size: 10px;">Deployment</a> <a href="/tags/design/" style="font-size: 10px;">Design</a> <a href="/tags/design-pattern/" style="font-size: 10px;">Design Pattern</a> <a href="/tags/event/" style="font-size: 10px;">Event</a>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/categories">
      <h3 class="widget-title">Catégories</h3>
    </a>
    <div class="widget category-list">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/cracking/">Cracking</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cracking/game/">Game</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/design/">Design</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/design/visual/">Visual</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/design/web/">Web</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/game/">Game</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/game/programming-game/">Programming Game</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/geek-toy/">Geek Toy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/package/">Package</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/package/chrome-extension/">Chrome Extension</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/package/hexo/">Hexo</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/">Practice</a><span class="category-list-count">22</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/practice/atom/">Atom</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/continues-integration/">Continues Integration</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/devops/">DevOps</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/hexo/">Hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/mac/">Mac</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/shell/">Shell</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/textmate/">TextMate</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/web/">Web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/windows/">Windows</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/git/">git</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/">Programming</a><span class="category-list-count">73</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/android/">Android</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/arduino/">Arduino</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/c/">C#</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/design-patterns/">Design Patterns</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/javascript/">JavaScript</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/javascript/coffeescript/">CoffeeScript</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/postgressql/">PostgresSql</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/powershell/">PowerShell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/regular-expression/">Regular Expression</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/ruby/">Ruby</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/wpf/">WPF</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/web/">Web</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/node-js/">node.js</a><span class="category-list-count">10</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/thinking/">Thinking</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/archives">
      <h3 class="widget-title">Archives</h3>
    </a>
    <div class="widget archive-list">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">October 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">April 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">March 2010</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 TimNew<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/#main" class="mobile-nav-link">Home</a>
  
    <a href="/archives/" class="mobile-nav-link">Archives</a>
  
    <a href="/photos/500px.html" class="mobile-nav-link">Photos</a>
  
</nav>
    
<script>
  var disqus_shortname = 'timnew-github';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> -->
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>