<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mot-clé: sqrt | ThoughtWorkshop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="timnew programming code software">
<meta property="og:type" content="website">
<meta property="og:title" content="ThoughtWorkshop">
<meta property="og:url" content="http://timnew.me/tags/sqrt/index.html">
<meta property="og:site_name" content="ThoughtWorkshop">
<meta property="og:description" content="timnew programming code software">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ThoughtWorkshop">
<meta name="twitter:description" content="timnew programming code software">
<meta name="twitter:creator" content="@timnew">
<link rel="publisher" href="108780866821209050000">
  
    <link rel="alternate" href="/atom.xml" title="ThoughtWorkshop" type="application/atom+xml">
  
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<meta name="msapplication-TileColor" content="#00a300">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">

  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-30567867-1', 'auto');

  ga('require', 'displayfeatures');

ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ThoughtWorkshop</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Digital Bigs in my thought</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/#main">Home</a>
        
          <a class="main-nav-link" href="/archives/">Archives</a>
        
          <a class="main-nav-link" href="/photos/500px.html">Photos</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://timnew.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-implement-sqrt-with-basic-algebra-operators" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2013/01/30/implement-sqrt-with-basic-algebra-operators/" class="article-date">
  <time datetime="2013-01-30T00:00:00.000Z" itemprop="datePublished">2013-01-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">Programming</a>►<a class="article-category-link" href="/categories/programming/algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
  
  <div class="ribbon-wrapper relative right">
    <div class="ribbon "  style="background-color: #40A;"  >
      <a href="http://timnew.me/categories/programming/">Programming</a>
    </div>
  </div>


    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2013/01/30/implement-sqrt-with-basic-algebra-operators/">Implement sqrt with basic algebra operators</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It is a very basic question, but to solve it in a time limited environment, require solid knowledge about algorithm, and could use these knowledges flexibly.<br>I found the problem of myself is that I know it, but I cannot use it as flexible as my hand.</p>
<h3 id="The-problem-description"><a href="#The-problem-description" class="headerlink" title="The problem description:"></a>The problem description:</h3><blockquote>
<p>Calculate the square root of a given number N<br>The N could be a decimal, such as 6.25 or 0.01<br>The implementation only allow to use basic algebra operators like +, -, *, /, &lt;, &gt;, etc.<br>Advanced functions like Math.sqrt is not allowed</p>
</blockquote>
<p>As a TDDer, I’m used to write a simple test structure that is gonna used to express the test cases:</p>
<figure class="highlight rb"><figcaption><span>Code Skeleton</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>After this, we can begin to write our 1st test case, which is the simplest scenario that I can imagine:<br>We assume:</p>
<ol>
<li>n must be an integer</li>
<li>n must have a integer square root</li>
</ol>
<figure class="highlight rb"><figcaption><span>1st test case</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Run the code, if everything goes right, we will get a failed message as expected. Then we gonna introduce our first implementation to fix the failed test case:</p>
<p>With the 2 additional assumptions in 1st test case, we can easily figure out a simple solution: Simply linear search the integers between the root between 1 and n.</p>
<figure class="highlight rb"><figcaption><span>1st implementation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  (<span class="number">1</span>..n).each <span class="keyword">do</span> <span class="params">|x|</span></span><br><span class="line">    <span class="keyword">return</span> x <span class="keyword">if</span> x * x == n</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>So far so good. But there are 2 magic integers that related to the sqrt, one is 1 and another is 0.<br>And it seems our function cannot handle all of them correctly, so I wanna improve my algorithm to enable it deals with special numbers: 0, 1.<br>So I added 2 test cases, and improved the implementation:</p>
<figure class="highlight rb"><figcaption><span>sqrt of 0 and 1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line">  (<span class="number">1</span>..n).each <span class="keyword">do</span> <span class="params">|x|</span></span><br><span class="line">    <span class="keyword">return</span> x <span class="keyword">if</span> x * x == n</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 corner cases</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Now everything looks good, except the performance.<br>The time complexity of this algorithm is O(n), which is bad. I expected the algorithm complexity could close to O(1). At least it should be O(log n)</p>
<p>How could we improve the performance?<br>I had ever thought that it is safe to shrink the range to (1..2/n), but in fact it doesn’t really help to improve the performance of this algorithm, it is still O(n) after the update.<br>And it causes problems when dealing with the number 1, so I prefers to keep it as is.</p>
<p>So what we did in the sqrt function now it kind of a search, we search the number match the condition between 1 and n.<br>Obviously that 1..n is a ascending series, and mapping x -&gt; x*x has positive differential coefficient.<br>So it is possible for use to use variant binary search replace the linear search, which reduce the time complexity from O(n) to O(log n)</p>
<figure class="highlight rb"><figcaption><span>Binary Search</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(goal, start, stop)</span></span></span><br><span class="line">  mid = (stop - start) / <span class="number">2</span> + start</span><br><span class="line"></span><br><span class="line">  mid_square = mid * mid</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> mid_square == goal</span><br><span class="line">    <span class="keyword">return</span> mid</span><br><span class="line">  <span class="keyword">elsif</span> mid_square &gt; goal</span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, start, mid)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, mid, stop)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  binary_search(n, <span class="number">1</span>, n)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 corner cases</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 normal cases</span></span><br><span class="line">assert <span class="number">5</span>, sqrt(<span class="number">25</span>)</span><br><span class="line">assert <span class="number">9</span>, sqrt(<span class="number">81</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>After implemented the binary search algorithm, we found a very interesting phenomenon: We didn’t restrict n to integer, and it seems it get some capability to dealing with float number?!<br>So I tried to add 2 float number test cases:</p>
<figure class="highlight rb"><figcaption><span>Float number test cases</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> expected == actual</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(goal, start, stop)</span></span></span><br><span class="line">  mid = (stop - start) / <span class="number">2</span> + start</span><br><span class="line"></span><br><span class="line">  mid_square = mid * mid</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> mid_square == goal</span><br><span class="line">    <span class="keyword">return</span> mid</span><br><span class="line">  <span class="keyword">elsif</span> mid_square &gt; goal</span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, start, mid)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, mid, stop)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  binary_search(n, <span class="number">1</span>, n)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 corner cases</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 normal cases</span></span><br><span class="line">assert <span class="number">5</span>, sqrt(<span class="number">25</span>)</span><br><span class="line">assert <span class="number">9</span>, sqrt(<span class="number">81</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># float number</span></span><br><span class="line">assert <span class="number">2.5</span>, sqrt(<span class="number">6.25</span>)</span><br><span class="line">assert <span class="number">1.5</span>, sqrt(<span class="number">2.25</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Amazing, our code works fine!<br>But I believe it is tricky, since both 2.5 and 1.5 is the number stand on the right center between 2 near-by integers. And it fails dealing with generic float number.<br>The problem we met is call stack overflow. Binary search algorithm failed to hit the exactly accurate number that we expected.<br>To solve the problem, we can use a small enough range to replace the accurate equality comparison.<br>We introduce a const EPSILON to describe the accuracy of the calculation.</p>
<figure class="highlight rb"><figcaption><span>Adjust precision</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">EPSILON = <span class="number">100</span> * Float.const_get(<span class="symbol">:EPSILON</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> (expected - actual) &lt; EPSILON</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(goal, start, stop)</span></span></span><br><span class="line">  mid = (stop - start) / <span class="number">2</span> + start</span><br><span class="line"></span><br><span class="line">  mid_square = mid * mid</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mid_square - goal).abs &lt; EPSILON</span><br><span class="line">    <span class="keyword">return</span> mid</span><br><span class="line">  <span class="keyword">elsif</span> mid_square &gt; goal</span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, start, mid)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, mid, stop)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  binary_search(n, <span class="number">1</span>, n)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start from the easiest case, the integer square root.</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 corner cases</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 normal cases</span></span><br><span class="line">assert <span class="number">5</span>, sqrt(<span class="number">25</span>)</span><br><span class="line">assert <span class="number">9</span>, sqrt(<span class="number">81</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># float number</span></span><br><span class="line">assert <span class="number">2.5</span>, sqrt(<span class="number">6.25</span>)</span><br><span class="line">assert <span class="number">1.5</span>, sqrt(<span class="number">2.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># float numbers not at 2^n</span></span><br><span class="line">assert <span class="number">3.3</span>, sqrt(<span class="number">10.89</span>)</span><br><span class="line">assert <span class="number">7.7</span>, sqrt(<span class="number">59.29</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>  
<p>Now it looks our code can calculate the square root of most of the numbers that larger than 1. But it fails to calculate the square root of number less than 1.<br>The reason of the failure is because x <em> x &lt; x when x &lt; 1 but x </em> x &gt; 1 when x &gt; 1, which means we should search in different range for the numbers &gt; 1 and numbers &lt; 1.</p>
<figure class="highlight rb"><figcaption><span>float numbers <1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">EPSILON = <span class="number">100</span> * Float.const_get(<span class="symbol">:EPSILON</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> (expected - actual).abs &lt; (EPSILON * <span class="number">10</span>)</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(goal, start, stop)</span></span></span><br><span class="line">  mid = (stop - start) / <span class="number">2</span> + start</span><br><span class="line"></span><br><span class="line">  mid_square = mid * mid</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mid_square - goal).abs &lt; EPSILON</span><br><span class="line">    <span class="keyword">return</span> mid</span><br><span class="line">  <span class="keyword">elsif</span> mid_square &gt; goal</span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, start, mid)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(goal, mid, stop)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">elsif</span> n &gt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(n, <span class="number">1</span>, n)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(n, n, <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">"Start from the easiest case, the integer square root."</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"2 corner cases"</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"2 normal cases"</span></span><br><span class="line">assert <span class="number">5</span>, sqrt(<span class="number">25</span>)</span><br><span class="line">assert <span class="number">9</span>, sqrt(<span class="number">81</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float number"</span></span><br><span class="line">assert <span class="number">2.5</span>, sqrt(<span class="number">6.25</span>)</span><br><span class="line">assert <span class="number">1.5</span>, sqrt(<span class="number">2.25</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float numbers not at 2^n"</span></span><br><span class="line">assert <span class="number">3.3</span>, sqrt(<span class="number">10.89</span>)</span><br><span class="line">assert <span class="number">7.7</span>, sqrt(<span class="number">59.29</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float number &lt; 1"</span></span><br><span class="line">assert <span class="number">0</span>.<span class="number">1</span>, sqrt(<span class="number">0</span>.<span class="number">01</span>)</span><br><span class="line">assert <span class="number">0</span>.<span class="number">02</span>, sqrt(<span class="number">0</span>.<span class="number">0004</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>So now the algorithm is pretty much as what we want, but we still found it raise call stack overflow exception sometimes. And it wastes too much iterations on unnecessary precision.<br>So I think maybe we can make the algorithm unlimitedly close to O(1) by sacrificing some precision of the result.<br>So we set up a limit for the maximum iterations that we can take during the calculation. When the limit is reached, we break out the iteration, and return a less accurate number.</p>
<p>It is really useful when calculating the irrational square root, which is has unlimited digits, and there is no accurate solution to it.</p>
<figure class="highlight rb"><figcaption><span>irrational square root</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">EPSILON = <span class="number">10</span> * Float.const_get(<span class="symbol">:EPSILON</span>)</span><br><span class="line"></span><br><span class="line">DEPTH_LIMIT = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assert</span><span class="params">(expected, actual)</span></span></span><br><span class="line">  <span class="keyword">if</span> (expected - actual).abs &lt; (EPSILON * <span class="number">10</span>)</span><br><span class="line">    puts <span class="string">"Passed"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    puts <span class="string">"Failed"</span></span><br><span class="line">    p expected</span><br><span class="line">    p actual</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(goal, start, stop, depth)</span></span></span><br><span class="line">  mid = (stop - start) / <span class="number">2</span> + start</span><br><span class="line"></span><br><span class="line">  mid_square = mid * mid</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mid_square - goal).abs &lt; EPSILON</span><br><span class="line">    <span class="keyword">return</span> mid</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> mid <span class="keyword">if</span> depth &gt;= DEPTH_LIMIT</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> mid_square &gt; goal</span><br><span class="line">      <span class="keyword">return</span> binary_search(goal, start, mid, depth + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> binary_search(goal, mid, stop, depth + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqrt</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  n = n.to_f</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">elsif</span> n &gt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(n, <span class="number">1</span>, n, <span class="number">0</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> binary_search(n, n, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">"Start from the easiest case, the integer square root."</span></span><br><span class="line">assert <span class="number">3</span>, sqrt(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"2 corner cases"</span></span><br><span class="line">assert <span class="number">1</span>, sqrt(<span class="number">1</span>)</span><br><span class="line">assert <span class="number">0</span>, sqrt(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"2 normal cases"</span></span><br><span class="line">assert <span class="number">5</span>, sqrt(<span class="number">25</span>)</span><br><span class="line">assert <span class="number">9</span>, sqrt(<span class="number">81</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float number"</span></span><br><span class="line">assert <span class="number">2.5</span>, sqrt(<span class="number">6.25</span>)</span><br><span class="line">assert <span class="number">1.5</span>, sqrt(<span class="number">2.25</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float numbers not at 2^n"</span></span><br><span class="line">assert <span class="number">3.3</span>, sqrt(<span class="number">10.89</span>)</span><br><span class="line">assert <span class="number">7.7</span>, sqrt(<span class="number">59.29</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"float number &lt; 1"</span></span><br><span class="line">assert <span class="number">0</span>.<span class="number">1</span>, sqrt(<span class="number">0</span>.<span class="number">01</span>)</span><br><span class="line">assert <span class="number">0</span>.<span class="number">02</span>, sqrt(<span class="number">0</span>.<span class="number">0004</span>)</span><br><span class="line"></span><br><span class="line">puts <span class="string">"irrational root"</span></span><br><span class="line">assert <span class="number">1.414213562373095</span>, sqrt(<span class="number">2</span>)</span><br><span class="line">assert <span class="number">1.732050807568877</span>, sqrt(<span class="number">3</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>So besides of the binary search approach,  we can calculate the square root with Newton’s method, which calculates the result with a iterative equation.<br>Newton’s method has the limitation in precision, but has a good performance. It is said that one of the ancestors of FPS game Quake uses it in the game engine to get a good performance with limited computing power.<br>Here is a <a href="http://www.school-for-champions.com/algebra/square_root_approx.htm" target="_blank" rel="external">easy-understood document</a> explain how it works.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timnew.me/blog/2013/01/30/implement-sqrt-with-basic-algebra-operators/" data-id="cinedk72m004achsizip6e7do" class="article-share-link">Partager</a>
      
        <a href="http://timnew.me/blog/2013/01/30/implement-sqrt-with-basic-algebra-operators/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/binary-search/">binary search</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/facebook/">facebook</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sqrt/">sqrt</a></li></ul>

    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap"><h3 class="widget-title">About Me</h3><div class="widget self-intro"><img src="/images/avatar.png"/><p>Tim is</p><ul class="description"><li>a<span>geek</span></li><li>an spare-time<span>web developer</span></li><li>a part-time<span>mobile developer</span></li><li>a night-time<span>photographer</span></li><li>an early-time<span>pcb solderer</span></li></ul><ul class="social-links"><li><a href="https://linkedin.com/in/timwen" target="_blank" class="linked-in"></a></li><li><a href="https://twitter.com/timnew" target="_blank" class="twitter"></a></li><li><a href="https://github.com/timnew" target="_blank" class="github"></a></li></ul></div></div>
  
    
  <div class="widget-wrap">
    <a href="/posts">
      <h3 class="widget-title">Articles récents</h3>
    </a>
    <div class="widget recent-posts">
      <ul>
        
          <li>
            <a href="/blog/2016/04/23/collection-filtering-algorithm-with-bit-operation-part-1/">Collection Filtering Algorithm with Bit Operation - Part.1</a>
          </li>
        
          <li>
            <a href="/blog/2015/08/14/a-clean-way-to-test-rejected-promise/">A clean way to test rejected promise</a>
          </li>
        
          <li>
            <a href="/blog/2014/12/06/typical-eventbus-design-patterns/">Typical EventBus Design Patterns</a>
          </li>
        
          <li>
            <a href="/blog/2014/11/09/understand-styles-in-android-part-1-what-it-is-for-and-how-to-used-it/">Understand Styles in Android - Part 1. What it is for and how to used it</a>
          </li>
        
          <li>
            <a href="/blog/2014/11/07/walkthrough-untrusted-the-continuing-adventures-of-dr-eval/">Walkthrough: Untrusted - the Continuing Adventures of Dr. Eval</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/tags">
      <h3 class="widget-title">Nuage de mot-clés</h3>
    </a>
    <div class="widget tagcloud">
      <a href="/tags/net/" style="font-size: 10px;">.net</a> <a href="/tags/alfred/" style="font-size: 10px;">Alfred</a> <a href="/tags/algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/android/" style="font-size: 20px;">Android</a> <a href="/tags/android-studio/" style="font-size: 10px;">Android Studio</a> <a href="/tags/automation/" style="font-size: 10px;">Automation</a> <a href="/tags/binary/" style="font-size: 10px;">Binary</a> <a href="/tags/bit-operation/" style="font-size: 10px;">Bit Operation</a> <a href="/tags/bit-slicer/" style="font-size: 10px;">Bit Slicer</a> <a href="/tags/bloom-filter/" style="font-size: 10px;">Bloom Filter</a> <a href="/tags/boilerplate/" style="font-size: 10px;">Boilerplate</a> <a href="/tags/c/" style="font-size: 20px;">C#</a> <a href="/tags/ci/" style="font-size: 15px;">CI</a> <a href="/tags/css/" style="font-size: 10px;">CSS</a> <a href="/tags/cheat/" style="font-size: 10px;">Cheat</a> <a href="/tags/cheat-engine/" style="font-size: 10px;">Cheat Engine</a> <a href="/tags/class/" style="font-size: 10px;">Class</a> <a href="/tags/cocoa/" style="font-size: 10px;">Cocoa</a> <a href="/tags/collection/" style="font-size: 10px;">Collection</a> <a href="/tags/command/" style="font-size: 10px;">Command</a> <a href="/tags/continues-delivery/" style="font-size: 10px;">Continues Delivery</a> <a href="/tags/continues-integration/" style="font-size: 10px;">Continues Integration</a> <a href="/tags/crack/" style="font-size: 10px;">Crack</a> <a href="/tags/d/" style="font-size: 10px;">D</a> <a href="/tags/debugger/" style="font-size: 10px;">Debugger</a> <a href="/tags/deploy/" style="font-size: 10px;">Deploy</a> <a href="/tags/deployment/" style="font-size: 10px;">Deployment</a> <a href="/tags/design/" style="font-size: 10px;">Design</a> <a href="/tags/design-pattern/" style="font-size: 10px;">Design Pattern</a> <a href="/tags/event/" style="font-size: 10px;">Event</a>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/categories">
      <h3 class="widget-title">Catégories</h3>
    </a>
    <div class="widget category-list">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/cracking/">Cracking</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cracking/game/">Game</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/design/">Design</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/design/visual/">Visual</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/design/web/">Web</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/game/">Game</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/game/programming-game/">Programming Game</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/geek-toy/">Geek Toy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/package/">Package</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/package/chrome-extension/">Chrome Extension</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/package/hexo/">Hexo</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/">Practice</a><span class="category-list-count">22</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/practice/atom/">Atom</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/continues-integration/">Continues Integration</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/devops/">DevOps</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/hexo/">Hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/mac/">Mac</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/shell/">Shell</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/textmate/">TextMate</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/web/">Web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/windows/">Windows</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/practice/git/">git</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/">Programming</a><span class="category-list-count">73</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/android/">Android</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/arduino/">Arduino</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/c/">C#</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/design-patterns/">Design Patterns</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/javascript/">JavaScript</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/javascript/coffeescript/">CoffeeScript</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/postgressql/">PostgresSql</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/powershell/">PowerShell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/regular-expression/">Regular Expression</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/ruby/">Ruby</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/wpf/">WPF</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/web/">Web</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/node-js/">node.js</a><span class="category-list-count">10</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/thinking/">Thinking</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <a href="/archives">
      <h3 class="widget-title">Archives</h3>
    </a>
    <div class="widget archive-list">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">October 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">April 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">March 2010</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 TimNew<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/#main" class="mobile-nav-link">Home</a>
  
    <a href="/archives/" class="mobile-nav-link">Archives</a>
  
    <a href="/photos/500px.html" class="mobile-nav-link">Photos</a>
  
</nav>
    
<script>
  var disqus_shortname = 'timnew-github';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> -->
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>