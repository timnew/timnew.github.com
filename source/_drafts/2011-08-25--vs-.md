layout: post
title: 设计流 vs 重构流
tags:
  - Overdesign
  - Architecture
  - Refactor
  - Pattern
  - Thinking
categories: Thinking
comments: true
date: 2011-08-25 08:00:00
---
进到项目小一个月了， Team 里的牛人不少。最重要的是，大家都很重视代码的设计，而且都乐意针对这个话题发起各种各样的讨论。
从中也能发现到很多很有意思的 Idea 和 Practice。

我过去通常情况下都是自己一个人在写代码，所以我的代码设计的风格是非常多变的，面对不同的问题时，会根据具体的问题和上下文的不同，而采用不同的设计。因此，在我代码里，经常会出现同一个类型的几个问题，会有几种不同方式的处理。

例如，遇到需要对一个已有类进行扩充的时候，比较常用的方式可能有 Extension Method，集成，封装等，面对这样的问题，不同的 Developer 可能会有完全不同的解决方案。
对于我个人来说，我可能会根据当时的上下文，当时的需求等来做出决定，甚至有时候会依据自己的一些对需求变化的预测，更甚至是当时的心情。
因此，如果把代码当作某种艺术作品，那么我的代码是非常华丽的，因为可以从里面发现各种神奇的设计，这些设计很好的代码的上下文契合在一起，同时不同风格的东西还能协同在一起工作。
但是如果是工程的角度来说，我的代码很可能是不合格的，因为代码缺乏一种稳定的持久的一致性，可能会导致别人理解代码的时候的学习成本提高，而且不同代码风格之间的兼容性也会是一个问题。

当然这些对我来说都不是都不是难以克服的问题，真正让我头疼不已却毫无办法的问题是 Over  Design，我的代码是一点点从基础搭建出来的，我总是倾向于让代码的基础具有更好的灵活性，以适应可能发生的需求变化或者设计变化。然而这种灵活性的存在就意味额外的 Effort，以及代码复杂度的提高。最终的结果就是代码稳定性的下降或者是维护成本低提高。
更要命的是，往往这些灵活性都没有被完全的利用起来。形象点说，我的代码就像是一个金字塔，最上面的是真正的需求，而要解决一个需求，我总是倾向于去建造一个更大的基座，然后在这个基座上表演各种华丽的设计，最后才是解决真正的需求。

这种风格的产生，适合我自己过去的经历分不开的，我总是期望去能开发出一些自己能够重用的框架性的东西。同时在编码的过程中，总是在学习和体验各种不同的设计的特点，而且产品通常都是不是真正的对质量有着很高要求的东西。所以通常情况下，这种代码就会演变为一块巨大的试验田，然后被我用各种诡异的方式毁掉又重建。